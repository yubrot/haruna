# Three echo commands in sequence â€” repeated prompt detection.
command: [bash, --norc, --noprofile]
env:
  PS1: "$ "
steps:
  - wait: { content: "^\\$$" }
  - snapshot
  - input: "echo first\n"
  - wait: { content: "^first$" }
  - wait: { content: "^\\$$" }
  - snapshot
  - input: "echo second\n"
  - wait: { content: "^second$" }
  - wait: { content: "^\\$$" }
  - snapshot
  - input: "echo third\n"
  - wait: { content: "^third$" }
  - wait: { content: "^\\$$" }
  - snapshot
  - input: "exit\n"
